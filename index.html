<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨ - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„</title>
   <meta property="og:title" content="Ù…Ø¤Ø³Ø³Ø© ÙƒÙ† Ø£Ù†Øª Ù„Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„ØªØ£Ù‡ÙŠÙ„" />
    <meta property="og:description" content="Ù†ØµÙ†Ø¹ Ù‚Ø§Ø¯Ø© Ø§Ù„ØºØ¯ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ø¹Ø±ÙØ©. Ø§Ø³ØªØ«Ù…Ø± ÙÙŠ Ù†ÙØ³ÙƒØŒ ÙˆØ§Ø³ØªØ«Ù…Ø± ÙÙŠ Ù…Ø³ØªÙ‚Ø¨Ù„Ùƒ." />
    <meta property="og:image" content="https://skillia.netlify.app/images/photo.jpg" />
    <meta property="og:url" content="https://sklilia.netlify.app/Trainees_Records" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="ar_AR" />
    
    
  <meta name="description" content="Ù…Ø¤Ø³Ø³Ø© ÙƒÙ† Ø£Ù†Øª Ù„Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„ØªØ£Ù‡ÙŠÙ„. Ù†Ù‚Ø¯Ù… Ø¯ÙˆØ±Ø§Øª Ù…ØªØ®ØµØµØ© ÙÙŠ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø°Ø§ØªØŒ Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠØŒ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ØŒ ÙˆØ§Ù„Ù…Ø²ÙŠØ¯.">
  <meta name="keywords" content="Ø¯ÙˆØ±Ø§Øª ØªØ¯Ø±ÙŠØ¨ÙŠØ©ØŒ Ù…Ø¤Ø³Ø³Ø© ÙƒÙ† Ø£Ù†ØªØŒ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø°Ø§ØªØŒ Ø§Ù„ÙŠÙ…Ù†ØŒ ØµÙ†Ø¹Ø§Ø¡ØŒ Ø¯ÙˆØ±Ø§Øª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†ØŒ Ø­ÙØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù†">
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
:root {
  --primary: #003366; --accent: #2ecc71; --bg: #f0f2f5;
}
body {
  margin: 0; font-family: 'Tajawal', sans-serif; background: var(--bg);
  display: flex; justify-content: center; align-items: center; min-height: 100vh;
  padding: 20px;
}
.card-container {
  width: 100%; max-width: 400px; background: #fff; border-radius: 20px;
  box-shadow: 0 15px 35px rgba(0,0,0,0.1); overflow: hidden; animation: fadeIn 0.6s ease;
}
.card-header {
  background: var(--primary); color: white; padding: 25px; text-align: center;
}
.card-body { padding: 30px; }

.info-item {
  display: flex; justify-content: space-between; padding: 12px 0;
  border-bottom: 1px solid #f0f0f0;
}
.info-label { color: #888; font-size: 14px; }
.info-value { color: #333; font-weight: bold; }

.student-id-box {
  background: #f8fafc; border: 2px dashed var(--accent);
  border-radius: 12px; margin-top: 20px; padding: 15px; text-align: center;
}
.id-number {
  display: block; font-size: 24px; color: var(--primary); font-weight: 700; margin: 5px 0;
}

.actions { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 25px; }
button {
  padding: 12px; border: none; border-radius: 10px; cursor: pointer;
  font-family: 'Tajawal'; font-weight: bold; transition: 0.3s;
}
.btn-download { background: var(--accent); color: white; }
.btn-copy { background: #eee; color: var(--primary); }
.btn-new {
  grid-column: span 2; background: transparent; color: #888;
  font-size: 13px; text-decoration: underline;
}

@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head>
<body>

<div class="card-container" id="profileCard">
  <div id="captureArea">
    <div class="card-header">
      <h2 style="margin:0">Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø°ÙƒÙŠØ©</h2>
      <p style="margin:5px 0 0; opacity:0.8; font-size:13px;">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ÙˆØ­Ø¯</p>
    </div>

    <div class="card-body">
      <div class="info-item">
        <span class="info-label">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨:</span>
        <span class="info-value" id="dispNameAr">---</span>
      </div>
      <div class="info-item">
        <span class="info-label">Name (EN):</span>
        <span class="info-value" id="dispNameEn">---</span>
      </div>
      <div class="info-item">
        <span class="info-label">Ø§Ù„Ø¨Ù„Ø¯:</span>
        <span class="info-value" id="dispCountry">---</span>
      </div>
      <div class="info-item">
        <span class="info-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</span>
        <span class="info-value" id="dispPhone">---</span>
      </div>

      <div class="student-id-box">
        <span class="info-label">Ø±Ù‚Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</span>
        <span class="id-number" id="dispId">000000</span>
      </div>
    </div>
  </div>

  <div class="card-body" style="padding-top:0">
    <div class="actions">
      <button class="btn-copy" onclick="copyId()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù</button>
      <button class="btn-download" onclick="downloadCard()">ğŸ“¸ Ø­ÙØ¸ ÙƒØµÙˆØ±Ø©</button>
      
    </div>
  </div>
</div>

<script>
// 1. Ø§Ù„ÙØ­Øµ Ø§Ù„ÙÙˆØ±ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
window.onload = function() {
  const studentId = localStorage.getItem("studentId");
  
  if (!studentId) {
    // Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§ØªØŒ ÙŠØªÙˆØ¬Ù‡ ÙÙˆØ±Ø§Ù‹ Ù„ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„
    window.location.href = "l.html";
  } else {
    // Ø¥Ø°Ø§ ÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§ØªØŒ ÙŠÙ‚ÙˆÙ… Ø¨ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ ÙÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
    document.getElementById("dispNameAr").innerText = localStorage.getItem("studentName") || "ØºÙŠØ± Ù…Ø³Ø¬Ù„";
    document.getElementById("dispNameEn").innerText = localStorage.getItem("studentNameEn") || "Not Provided";
    document.getElementById("dispCountry").innerText = localStorage.getItem("studentCountry") || "---";
    document.getElementById("dispPhone").innerText = localStorage.getItem("studentPhone") || "---";
    document.getElementById("dispId").innerText = studentId;
  }
};

// 2. ÙˆØ¸ÙŠÙØ© Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù
function copyId() {
  const id = document.getElementById("dispId").innerText;
  navigator.clipboard.writeText(id).then(() => {
    alert("ØªÙ… Ù†Ø³Ø® Ù…Ø¹Ø±Ù Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­: " + id);
  });
}

// 3. ÙˆØ¸ÙŠÙØ© ØªØ³Ø¬ÙŠÙ„ Ø·Ø§Ù„Ø¨ Ø¢Ø®Ø±
function registerAnother() {
  if(confirm("Ø³ÙŠØªÙ… Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„ØªØ³Ø¬ÙŠÙ„ Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ")) {
    localStorage.removeItem("studentId"); // Ù†Ø­Ø°Ù Ø§Ù„Ù…Ø¹Ø±Ù Ù„ÙØªØ­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù…Ù† Ø¬Ø¯ÙŠØ¯
    window.location.href = "l.html";
  }
}

// 4. ÙˆØ¸ÙŠÙØ© Ø­ÙØ¸ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙƒØµÙˆØ±Ø©
function downloadCard() {
  const area = document.getElementById("captureArea");
  html2canvas(area, { backgroundColor: "#f0f2f5" }).then(canvas => {
    const link = document.createElement('a');
    link.download = `Student_Card_${localStorage.getItem("studentId")}.png`;
    link.href = canvas.toDataURL();
    link.click();
  });
}
</script>

</body>
</html>

